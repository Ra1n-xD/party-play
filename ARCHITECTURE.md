# PartyPlay ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ "–ë—É–Ω–∫–µ—Ä" –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –º–∏–Ω–∏-–∏–≥—Ä –Ω–∞ –±–∞–∑–µ monorepo. –ö–∞–∂–¥–∞—è –∏–≥—Ä–∞ ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç —Å–æ —Å–≤–æ–∏–º engine, —Ç–∏–ø–∞–º–∏, —ç–∫—Ä–∞–Ω–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏. –û–±—â–µ–µ —è–¥—Ä–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º—É –∫–æ–º–Ω–∞—Ç, –ª–æ–±–±–∏, —Å–æ–∫–µ—Ç–æ–≤ –∏ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## –ú–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã

- –û–¥–Ω–∞ –∏–≥—Ä–∞ –∑–∞ —Å–µ—Å—Å–∏—é –∫–æ–º–Ω–∞—Ç—ã
- –°–æ–∑–¥–∞–ª–∏ –∫–æ–º–Ω–∞—Ç—É ‚Üí –≤—ã–±—Ä–∞–ª–∏ –∏–≥—Ä—É ‚Üí –∏–≥—Ä–∞—é—Ç ‚Üí –∫–æ–Ω–µ—Ü
- –î–ª—è –¥—Ä—É–≥–æ–π –∏–≥—Ä—ã ‚Äî –Ω–æ–≤–∞—è –∫–æ–º–Ω–∞—Ç–∞

---

## –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
bunker/
‚îú‚îÄ‚îÄ shared/           # types.ts ‚Äî –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ Socket.IO —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ server/           # Express + Socket.IO (–ø–æ—Ä—Ç 3001)
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ index.ts            # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ config.ts           # —Ç–∞–π–º–µ—Ä—ã, –ª–∏–º–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ socketHandlers.ts   # —Ä–æ—É—Ç–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π, socketRoomMap
‚îÇ       ‚îú‚îÄ‚îÄ roomManager.ts      # Map<roomId, Room> ‚Äî –∫–æ–º–Ω–∞—Ç—ã/–∏–≥—Ä–æ–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ gameEngine.ts       # —Ñ–∞–∑—ã, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ       ‚îú‚îÄ‚îÄ characterGenerator.ts
‚îÇ       ‚îú‚îÄ‚îÄ botManager.ts
‚îÇ       ‚îî‚îÄ‚îÄ data/               # –∫–æ–Ω—Ç–µ–Ω—Ç –∏–≥—Ä—ã (–ø—Ä–æ—Ñ–µ—Å—Å–∏–∏, –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ client/           # React 18 + Vite (–ø–æ—Ä—Ç 5173)
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ App.tsx             # —Ä–æ—É—Ç–µ—Ä –ø–æ —Ñ–∞–∑–∞–º
‚îÇ       ‚îú‚îÄ‚îÄ socket.ts           # Socket.IO –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ context/GameContext.tsx  # –µ–¥–∏–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ screens/            # HomeScreen, LobbyScreen, GameScreen, VoteScreen, ResultsScreen
‚îÇ       ‚îú‚îÄ‚îÄ components/         # BackgroundParticles, CardImage, Timer
‚îÇ       ‚îî‚îÄ‚îÄ styles/global.css
‚îî‚îÄ‚îÄ package.json      # workspaces: [shared, server, client]
```

---

## –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
bunker/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ core/                    # üîπ –û–ë–©–ï–ï –Ø–î–†–û
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts         # –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: Room, Player, GamePlugin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ roomManager.ts   # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏ (–±–µ–∑ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ socketHandlers.ts # –æ–±—â–∏–µ —Å–æ–±—ã—Ç–∏—è: room:create, room:join, room:leave
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pluginRegistry.ts # —Ä–µ–µ—Å—Ç—Ä –∏–≥—Ä ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ engine –ø–æ gameId
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/      # –æ–±—â–∏–µ UI: –ª–æ–±–±–∏, —Ç–∞–π–º–µ—Ä, —á–∞—Ç, –∞–≤–∞—Ç–∞—Ä—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ context/         # RoomContext (–∫–æ–º–Ω–∞—Ç–∞, –∏–≥—Ä–æ–∫–∏, –≤—ã–±–æ—Ä –∏–≥—Ä—ã)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ screens/         # HomeScreen (—Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç), LobbyScreen (–≤—ã–±–æ—Ä –∏–≥—Ä—ã)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ styles/          # –æ–±—â–∏–µ —Å—Ç–∏–ª–∏, —Ç–µ–º–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ bunker/                  # üéÆ –ò–ì–†–ê: –ë–£–ù–ö–ï–†
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts         # BunkerGameState, Character, GamePhase
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ engine.ts        # gameEngine (—Ñ–∞–∑—ã, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, —Ç–∞–π–±—Ä–µ–π–∫)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ characterGenerator.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ botManager.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.ts        # —Ç–∞–π–º–µ—Ä—ã –±—É–Ω–∫–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data/            # –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏, –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã, —Ñ–∞–∫—Ç—ã...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/         # GameScreen, VoteScreen, ResultsScreen
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # CardImage, AdminPanel
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/         # BunkerGameContext
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ mafia/                   # üéÆ –ò–ì–†–ê: –ú–ê–§–ò–Ø (–ø—Ä–∏–º–µ—Ä)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shared/types.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/engine.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client/screens/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ spy/                     # üéÆ –ò–ì–†–ê: –®–ü–ò–û–ù (–ø—Ä–∏–º–µ—Ä)
‚îÇ       ‚îú‚îÄ‚îÄ shared/types.ts
‚îÇ       ‚îú‚îÄ‚îÄ server/engine.ts
‚îÇ       ‚îú‚îÄ‚îÄ client/screens/
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ server/                      # üñ• –ï–î–ò–ù–´–ô –°–ï–†–í–ï–†
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ index.ts             # Express + Socket.IO, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç core + –≤—Å–µ –∏–≥—Ä—ã
‚îÇ       ‚îî‚îÄ‚îÄ gameRouter.ts        # –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –∫ –Ω—É–∂–Ω–æ–º—É engine
‚îÇ
‚îú‚îÄ‚îÄ client/                      # üåê –û–ë–û–õ–û–ß–ö–ê –ö–õ–ò–ï–ù–¢–ê
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ App.tsx              # —Ä–æ—É—Ç–µ—Ä: –º–µ–Ω—é ‚Üí –ª–æ–±–±–∏ ‚Üí [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã]
‚îÇ       ‚îú‚îÄ‚îÄ main.tsx
‚îÇ       ‚îú‚îÄ‚îÄ socket.ts
‚îÇ       ‚îî‚îÄ‚îÄ gameRegistry.ts      # —Ä–µ–µ—Å—Ç—Ä –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π –∏–≥—Ä
‚îÇ
‚îî‚îÄ‚îÄ package.json                 # workspaces: [packages/*, server, client]
```

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–ª–∞–≥–∏–Ω–∞ –∏–≥—Ä—ã

### –°–µ—Ä–≤–µ—Ä–Ω—ã–π –ø–ª–∞–≥–∏–Ω

```typescript
// packages/core/shared/types.ts

interface GamePlugin {
  /** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–≥—Ä—ã */
  id: string;                          // "bunker", "mafia", "spy"

  /** –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ */
  name: string;                        // "–ë—É–Ω–∫–µ—Ä", "–ú–∞—Ñ–∏—è", "–®–ø–∏–æ–Ω"

  /** –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ */
  description: string;

  /** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏–≥—Ä–æ–∫–æ–≤ */
  minPlayers: number;
  maxPlayers: number;

  /** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ */
  onGameStart(room: Room): GameState;

  /** –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π */
  onGameEvent(room: Room, event: string, data: any, playerId: string): void;

  /** –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è broadcast */
  getPublicState(room: Room): object;

  /** –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ */
  getPrivateState(room: Room, playerId: string): object;

  /** –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–≥—Ä—ã */
  onGameEnd(room: Room): void;
}
```

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–ª–∞–≥–∏–Ω

```typescript
// packages/core/client/gameRegistry.ts

interface ClientGamePlugin {
  /** –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º id */
  id: string;

  /** –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ */
  name: string;
  description: string;

  /** –ò–∫–æ–Ω–∫–∞ / –ø—Ä–µ–≤—å—é –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–≥—Ä */
  icon: React.ComponentType;
  coverImage?: string;

  /** –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–≥—Ä—ã ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ */
  GameComponent: React.ComponentType<GameComponentProps>;

  /** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –ª–æ–±–±–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */
  LobbySettings?: React.ComponentType;
}
```

---

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–Ω–∞—Ç—ã

```
1. –ò–≥—Ä–æ–∫ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–º–Ω–∞—Ç—É
   ‚îî‚îÄ server: roomManager.createRoom()
   ‚îî‚îÄ client: HomeScreen ‚Üí LobbyScreen

2. –ò–≥—Ä–æ–∫–∏ –∑–∞—Ö–æ–¥—è—Ç –≤ –∫–æ–º–Ω–∞—Ç—É –ø–æ –∫–æ–¥—É
   ‚îî‚îÄ server: room:join ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Room.players
   ‚îî‚îÄ client: LobbyScreen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤

3. –•–æ—Å—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –∏–≥—Ä—É –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   ‚îî‚îÄ server: room:selectGame ‚Üí Room.gameId = "bunker"
   ‚îî‚îÄ client: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã

4. –•–æ—Å—Ç –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å"
   ‚îî‚îÄ server: pluginRegistry.get(room.gameId).onGameStart(room)
   ‚îî‚îÄ client: App —Ä–µ–Ω–¥–µ—Ä–∏—Ç GameComponent –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã

5. –ò–≥—Ä–∞ –∏–¥—ë—Ç
   ‚îî‚îÄ server: –≤—Å–µ game:* —Å–æ–±—ã—Ç–∏—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ engine –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã
   ‚îî‚îÄ client: GameComponent —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç–∫—Ä–∞–Ω–∞–º–∏ —Ñ–∞–∑

6. –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
   ‚îî‚îÄ server: plugin.onGameEnd(room)
   ‚îî‚îÄ client: —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–æ–±–±–∏
```

---

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —è–¥—Ä–∞

1. –°–æ–∑–¥–∞—Ç—å `packages/core/shared/types.ts` ‚Äî –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (`Room`, `Player`, `GamePlugin`, `ClientGamePlugin`)
2. –°–æ–∑–¥–∞—Ç—å `packages/core/server/pluginRegistry.ts` ‚Äî —Ä–µ–µ—Å—Ç—Ä —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
3. –°–æ–∑–¥–∞—Ç—å `packages/core/client/gameRegistry.ts` ‚Äî —Ä–µ–µ—Å—Ç—Ä –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
4. –í—ã–Ω–µ—Å—Ç–∏ –∏–∑ `roomManager.ts` –ª–æ–≥–∏–∫—É, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –ë—É–Ω–∫–µ—Ä–æ–º (—Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç, join/leave) ‚Üí `packages/core/server/roomManager.ts`
5. –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Timer, BackgroundParticles) ‚Üí `packages/core/client/components/`
6. –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π `LobbyScreen` —Å –≤—ã–±–æ—Ä–æ–º –∏–≥—Ä—ã ‚Üí `packages/core/client/screens/`

### –§–∞–∑–∞ 2: –í—ã–¥–µ–ª–µ–Ω–∏–µ –ë—É–Ω–∫–µ—Ä–∞ –≤ –ø–ª–∞–≥–∏–Ω

7. –°–æ–∑–¥–∞—Ç—å `packages/bunker/` —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø–ª–∞–≥–∏–Ω–∞
8. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `gameEngine.ts`, `characterGenerator.ts`, `botManager.ts`, `config.ts`, `data/` ‚Üí `packages/bunker/server/`
9. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `GameScreen`, `VoteScreen`, `ResultsScreen` ‚Üí `packages/bunker/client/screens/`
10. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `CardImage`, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Üí `packages/bunker/client/components/`
11. –í—ã–Ω–µ—Å—Ç–∏ —Ç–∏–ø—ã –ë—É–Ω–∫–µ—Ä–∞ –∏–∑ `shared/types.ts` ‚Üí `packages/bunker/shared/types.ts`
12. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `BunkerPlugin implements GamePlugin` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ —Ç–µ–∫—É—â–∏–º engine
13. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ë—É–Ω–∫–µ—Ä –≤ –æ–±–æ–∏—Ö —Ä–µ–µ—Å—Ç—Ä–∞—Ö (—Å–µ—Ä–≤–µ—Ä + –∫–ª–∏–µ–Ω—Ç)

### –§–∞–∑–∞ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–æ–ª–æ—á–∫–∏

14. –û–±–Ω–æ–≤–∏—Ç—å `server/src/index.ts` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ core + –ø–ª–∞–≥–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä
15. –°–æ–∑–¥–∞—Ç—å `server/src/gameRouter.ts` ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è `game:*` —Å–æ–±—ã—Ç–∏–π –∫ –Ω—É–∂–Ω–æ–º—É –ø–ª–∞–≥–∏–Ω—É
16. –û–±–Ω–æ–≤–∏—Ç—å `client/src/App.tsx` ‚Äî —Ä–æ—É—Ç–∏–Ω–≥: –º–µ–Ω—é ‚Üí –ª–æ–±–±–∏ ‚Üí –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π `GameComponent`
17. –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –∏–≥—Ä—ã –≤ –ª–æ–±–±–∏
18. –û–±–Ω–æ–≤–∏—Ç—å `package.json` workspaces: `["packages/*", "server", "client"]`

### –§–∞–∑–∞ 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–≥—Ä

19. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É –ø–æ —à–∞–±–ª–æ–Ω—É `packages/bunker/`
20. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `GamePlugin` (—Å–µ—Ä–≤–µ—Ä) –∏ `ClientGamePlugin` (–∫–ª–∏–µ–Ω—Ç)
21. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–µ—Å—Ç—Ä–∞—Ö ‚Äî –∏–≥—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –º–µ–Ω—é

---

## –û–±—â–∏–µ Socket-—Å–æ–±—ã—Ç–∏—è (core)

```typescript
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç–∞–º–∏ ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç core
"room:create"       // ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã
"room:join"         // ‚Üí –≤—Ö–æ–¥ –ø–æ –∫–æ–¥—É
"room:leave"        // ‚Üí –≤—ã—Ö–æ–¥
"room:rejoin"       // ‚Üí —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç
"room:selectGame"   // ‚Üí –≤—ã–±–æ—Ä –∏–≥—Ä—ã —Ö–æ—Å—Ç–æ–º
"room:start"        // ‚Üí –∑–∞–ø—É—Å–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏–≥—Ä—ã

// –ò–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –∫ –ø–ª–∞–≥–∏–Ω—É
"game:*"            // ‚Üí plugin.onGameEvent(room, event, data, playerId)

// Broadcast ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç core
"state:update"      // ‚Üí –ø—É–±–ª–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (core + game merged)
"game:private"      // ‚Üí –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∏–≥—Ä–æ–∫—É
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
|------|-----------|:---:|
| –°–µ—Ä–≤–µ—Ä | Express + Socket.IO | ‚úÖ |
| –ö–ª–∏–µ–Ω—Ç | React 18 + Vite | ‚úÖ |
| –¢–∏–ø—ã | TypeScript | ‚úÖ |
| Workspaces | npm workspaces | ‚úÖ |
| Dev-—Ä–µ–∂–∏–º | concurrently + tsx watch | ‚úÖ |
| –§–æ—Ä–º–∞—Ç | Prettier | ‚úÖ |

–°—Ç–µ–∫ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ‚Äî –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞.

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ò–≥—Ä–∞ = –ø–ª–∞–≥–∏–Ω.** –ö–∞–∂–¥–∞—è –∏–≥—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–≤–æ—ë–º –ø–∞–∫–µ—Ç–µ
2. **Core –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –∏–≥—Ä–∞—Ö.** –Ø–¥—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `GamePlugin`
3. **Server-authoritative.** –ö–∞–∫ –∏ —Å–µ–π—á–∞—Å ‚Äî —Å–µ—Ä–≤–µ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–π –ª–æ–≥–∏–∫–æ–π, –∫–ª–∏–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç
4. **–û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä, –æ–¥–∏–Ω –¥–µ–ø–ª–æ–π.** –í—Å–µ –∏–≥—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä—ã = —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞.** –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å core –∏–ª–∏ –æ–±–æ–ª–æ—á–∫—É
